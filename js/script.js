function left_carusel(e){var t=$(e).find(".carousel-block").outerWidth();$(e).find(".carousel-items .carousel-block").eq(-1).clone().prependTo($(e).find(".carousel-items")),$(e).find(".carousel-items").css({left:"-"+t+"px"}),$(e).find(".carousel-items .carousel-block").eq(-1).remove(),$(e).find(".carousel-items").animate({left:"0px"},200)}function right_carusel(e){var t=$(e).find(".carousel-block").outerWidth();$(e).find(".carousel-items").animate({left:"-"+t+"px"},200,function(){$(e).find(".carousel-items .carousel-block").eq(0).clone().appendTo($(e).find(".carousel-items")),$(e).find(".carousel-items .carousel-block").eq(0).remove(),$(e).find(".carousel-items").css({left:"0px"})})}$(document).ready(function(){$("h2").addClass("hidden").viewportChecker({classToAdd:"visible animated fadeInLeft",offset:50})}),$(document).ready(function(){$("nav ul li a").click(function(){elementClick=$(this).attr("href"),destination=$(elementClick).offset().top,$("body, html").animate({scrollTop:destination},800)})}),$(document).ready(function(){$(function(){$("#scrollup").hide(),$(window).scroll(function(){$(window).scrollTop()>0?$("#scrollup").fadeIn():$("#scrollup").fadeOut()}),$("#scrollup").click(function(){return $("body, html").animate({scrollTop:0},800),!1})})}),jQuery.fn.clickToggle=function(e,t){var i=[t,e];return this.on("click",function(){i[this._tog^=1].call(this)})},$(function(){$(".menu a").each(function(){if(window.location.href!=this.href)return!1;$(this).addClass("menu__item--on-page")})}),$(".hamburger").click(function(){$(this).toggleClass("hamburger--cross").find(".hamburger__item").toggleClass("hamburger__item--cross")}).clickToggle(function(){$(".menu-wrapper").animate({right:"0"},1e3)},function(){$(".menu-wrapper").animate({right:"-180px"},1e3)}),$(".email_input").submit(function(e){e.preventDefault();var t=$(".email").val(),i=$(this).attr("action");$.post(i,{email:t}).done(function(e){$(".overlay").fadeIn(400,function(){$(".modal_form").css("display","block").append("<h4>Hello, "+e.email+"</h4>").animate({opacity:1,top:"50%"},200)})}),$(".send_btn, .overlay").click(function(){$(".modal_form").animate({opacity:0,top:"45%"},200,function(){$(this).css("display","none"),$(".overlay").fadeOut(400),$(".modal_form").empty()}),$(".email_input").trigger("reset")})}),$(document).on("click",".carousel-button-right",function(){return right_carusel($(this).parents(".carousel")),!1}),$(document).on("click",".carousel-button-left",function(){return left_carusel($(this).parents(".carousel")),!1}),$.circleProgress={defaults:{value:0,size:150,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"}}},$.easing.circleProgressEasing=function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},$.fn.circleProgress=function(e){return"widget"==e?this.data("circle-progress"):(e=$.extend({},$.circleProgress.defaults,e),this.each(function(){function t(e){m.clearRect(0,0,r,r),i(e),n(e)}function i(e){m.save(),m.beginPath(),m.arc(l,l,l-c/2,f,f+2*Math.PI*e),m.lineWidth=c,m.strokeStyle=o,m.stroke(),m.restore()}function n(e){m.save(),e<1&&(m.beginPath(),e<=0?m.arc(l,l,l-c/2,0,2*Math.PI):m.arc(l,l,l-c/2,f+2*Math.PI*e,f),m.lineWidth=c,m.strokeStyle=u,m.stroke()),m.restore()}var o,a=$(this),r=e.size,l=r/2,c=r/14,s=e.value,f=e.startAngle,u=e.emptyFill;$.isNumeric(e.thickness)&&(c=e.thickness);var d=a.data("circle-progress");d||(d=$("<canvas>").prependTo(a)[0],a.data("circle-progress",d)),d.width=r,d.height=r;var m=d.getContext("2d");if(!e.fill)throw Error("The fill is not specified!");if(e.fill.color&&(o=e.fill.color),e.fill.gradient){var p=e.fill.gradient;if(1==p.length)o=p[0];else if(p.length>1){for(var h=m.createLinearGradient(0,0,r,0),g=0;g<p.length;g++)h.addColorStop(g/(p.length-1),p[g]);o=h}}if(e.fill.image){var v=new Image;v.src=e.fill.image,v.onload=function(){var i=$("<canvas>")[0];i.width=r,i.height=r,i.getContext("2d").drawImage(v,0,0,r,r),o=m.createPattern(i,"no-repeat"),e.animation||t(s)}}e.animation?function(i){a.trigger("circle-animation-start"),$(d).css({progress:0}).animate({progress:i},$.extend({},e.animation,{step:function(e){t(e),a.trigger("circle-animation-progress",[e/i,e])},complete:function(){a.trigger("circle-animation-end")}}))}(s):t(s)}))},$(document).ready(function(e){function t(){e(".progressbar").each(function(){var t=e(this).offset().top,i=e(window).scrollTop(),n=e(this).find(".circle").attr("data-percent"),o=(parseInt(n,10),parseInt(100,10),e(this).data("animate"));t<i+e(window).height()-10&&!o&&(e(this).data("animate",!0),e(this).find(".circle").circleProgress({startAngle:-Math.PI/2,value:n/100,thickness:12,fill:{color:"#00ffde"}}).on("circle-animation-progress",function(t,i,n){e(this).find("div").text((100*n).toFixed(1)+"%")}).stop())})}t(),e(window).scroll(t)});var stop=$(".facts").offset().top;$(window).scroll(function(){$(window).scrollTop()>stop&&($(window).off("scroll"),$(".count").each(function(){var e=$(this);jQuery({Counter:0}).animate({Counter:e.attr("data-weight")},{duration:4e3,easing:"swing",step:function(){e.text(Math.ceil(this.Counter))}})}))}),$(document).ready(function(e){function t(t){i!=t&&(e("[title = portfolio_pic]").filter("."+t).fadeIn("slow"),e("[title = portfolio_pic]").filter(":not(."+t+")").fadeOut("slow"),i=t)}var i="";e(".btn_lion").click(function(){t("lion")}),e(".btn_beauty").click(function(){t("beauty")}),e(".btn_mickey").click(function(){t("mickey")}),e(".btn_rapunzel").click(function(){t("rapunzel")}),e(".btn_peter").click(function(){t("peter")}),e(".btn_all").click(function(){e("[title = portfolio_pic]").fadeIn("slow"),i="all"})}),$(".toggle, .toggle_in").click(function(e){e.preventDefault();var t=$(this);t.next().hasClass("show")?(t.next().removeClass("show"),t.next().slideUp(350)):(t.parent().parent().find("li .inner").removeClass("show"),t.parent().parent().find("li .inner").slideUp(350),t.next().toggleClass("show"),t.next().slideToggle(350))}),$(".form_input").submit(function(e){e.preventDefault();var t=$(".name_info").val(),i=$(".email_info").val(),n=$(this).attr("action");$.post(n,{name:t,email:i}).done(function(e){console.log(e),$(".form_input").trigger("reset")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJsZWZ0X2NhcnVzZWwiLCJjYXJ1c2VsIiwiYmxvY2tfd2lkdGgiLCIkIiwiZmluZCIsIm91dGVyV2lkdGgiLCJlcSIsImNsb25lIiwicHJlcGVuZFRvIiwiY3NzIiwibGVmdCIsInJlbW92ZSIsImFuaW1hdGUiLCJyaWdodF9jYXJ1c2VsIiwiYXBwZW5kVG8iLCJkb2N1bWVudCIsInJlYWR5IiwiYWRkQ2xhc3MiLCJ2aWV3cG9ydENoZWNrZXIiLCJjbGFzc1RvQWRkIiwib2Zmc2V0IiwiY2xpY2siLCJlbGVtZW50Q2xpY2siLCJ0aGlzIiwiYXR0ciIsImRlc3RpbmF0aW9uIiwidG9wIiwic2Nyb2xsVG9wIiwiaGlkZSIsIndpbmRvdyIsInNjcm9sbCIsImZhZGVJbiIsImZhZGVPdXQiLCJqUXVlcnkiLCJmbiIsImNsaWNrVG9nZ2xlIiwiYSIsImIiLCJhYiIsIm9uIiwiX3RvZyIsImNhbGwiLCJlYWNoIiwibG9jYXRpb24iLCJocmVmIiwidG9nZ2xlQ2xhc3MiLCJyaWdodCIsInN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImVtYWlsIiwidmFsIiwidXJsIiwicG9zdCIsImRvbmUiLCJkYXRhIiwiYXBwZW5kIiwib3BhY2l0eSIsImVtcHR5IiwidHJpZ2dlciIsInBhcmVudHMiLCJjaXJjbGVQcm9ncmVzcyIsImRlZmF1bHRzIiwidmFsdWUiLCJzaXplIiwic3RhcnRBbmdsZSIsIk1hdGgiLCJQSSIsInRoaWNrbmVzcyIsImZpbGwiLCJncmFkaWVudCIsImVtcHR5RmlsbCIsImFuaW1hdGlvbiIsImR1cmF0aW9uIiwiZWFzaW5nIiwiY2lyY2xlUHJvZ3Jlc3NFYXNpbmciLCJ4IiwidCIsImMiLCJkIiwib3B0aW9ucyIsImV4dGVuZCIsImRyYXciLCJ2IiwiY3R4IiwiY2xlYXJSZWN0IiwiZHJhd0FyYyIsImRyYXdFbXB0eUFyYyIsInNhdmUiLCJiZWdpblBhdGgiLCJhcmMiLCJyYWRpdXMiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsImFyY0ZpbGwiLCJzdHJva2UiLCJyZXN0b3JlIiwiZW1wdHlBcmNGaWxsIiwiZWwiLCJpc051bWVyaWMiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImdldENvbnRleHQiLCJFcnJvciIsImNvbG9yIiwiZ3IiLCJsZW5ndGgiLCJsZyIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiaSIsImFkZENvbG9yU3RvcCIsImltYWdlIiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJiZyIsImRyYXdJbWFnZSIsImNyZWF0ZVBhdHRlcm4iLCJwcm9ncmVzcyIsInN0ZXAiLCJwIiwiY29tcGxldGUiLCJhbmltYXRlRWxlbWVudHMiLCJlbGVtZW50UG9zIiwidG9wT2ZXaW5kb3ciLCJwZXJjZW50IiwicGFyc2VJbnQiLCJldmVudCIsInN0ZXBWYWx1ZSIsInRleHQiLCJ0b0ZpeGVkIiwic3RvcCIsIm9mZiIsIiR0aGlzIiwiQ291bnRlciIsImNlaWwiLCJmaWx0ZXJOYW1lIiwibmFtZSIsImZBY3RpdmUiLCJmaWx0ZXIiLCJuZXh0IiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInNsaWRlVXAiLCJwYXJlbnQiLCJzbGlkZVRvZ2dsZSIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJBQW1IQSxTQUFTQSxhQUFhQyxHQUNuQixJQUFJQyxFQUFjQyxFQUFFRixHQUFTRyxLQUFLLG1CQUFtQkMsYUFDckRGLEVBQUVGLEdBQVNHLEtBQUssbUNBQW1DRSxJQUFJLEdBQUdDLFFBQVFDLFVBQVVMLEVBQUVGLEdBQVNHLEtBQUssb0JBQzVGRCxFQUFFRixHQUFTRyxLQUFLLG1CQUFtQkssS0FBS0MsS0FBTyxJQUFJUixFQUFZLE9BQy9EQyxFQUFFRixHQUFTRyxLQUFLLG1DQUFtQ0UsSUFBSSxHQUFHSyxTQUMxRFIsRUFBRUYsR0FBU0csS0FBSyxtQkFBbUJRLFNBQVNGLEtBQU0sT0FBUSxLQUc3RCxTQUFTRyxjQUFjWixHQUNwQixJQUFJQyxFQUFjQyxFQUFFRixHQUFTRyxLQUFL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dEJSLEVBQU1PLE9BQU9FLFlBQVksUUFDekJULEVBQU1PLE9BQU9HLFFBQVEsT0FFckJWLEVBQU1XLFNBQVNBLFNBQVM5SSxLQUFLLGFBQWE0SSxZQUFZLFFBQ3REVCxFQUFNVyxTQUFTQSxTQUFTOUksS0FBSyxhQUFhNkksUUFBUSxLQUNsRFYsRUFBTU8sT0FBT2pHLFlBQVksUUFDekIwRixFQUFNTyxPQUFPSyxZQUFZLFFBTWpDaEosRUFBRSxlQUFlNEMsT0FBTyxTQUFTQyxHQUNoQ0EsRUFBRUMsaUJBRUYsSUFBSTBGLEVBQU94SSxFQUFFLGNBQWNnRCxNQUN2QkQsRUFBUS9DLEVBQUUsZUFBZWdELE1BQ3pCQyxFQUFNakQsRUFBRW9CLE1BQU1DLEtBQUssVUFHdkJyQixFQUFFa0QsS0FBS0QsR0FBTXVGLEtBQU1BLEVBQU16RixNQUFPQSxJQUFRSSxLQUFLLFNBQVNDLEdBRXBENkYsUUFBUUMsSUFBSTlGLEdBQ1pwRCxFQUFFLGVBQWV3RCxRQUFRIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vINCw0L3QuNC80LDRhtC40Y8g0L/QvtGP0LLQu9C10L3QuNGPINC30LDQs9C+0LvQvtCy0LrQvtCyXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuJCgnaDInKS5hZGRDbGFzcyhcImhpZGRlblwiKS52aWV3cG9ydENoZWNrZXIoe1xyXG5jbGFzc1RvQWRkOiAndmlzaWJsZSBhbmltYXRlZCBmYWRlSW5MZWZ0Jyxcclxub2Zmc2V0OiA1MFxyXG59KTtcclxufSk7XHJcblxyXG5cclxuXHJcbi8vINC/0LvQsNC90YvQuSDQv9C10YDQtdGF0L7QtCDQuiDQv9GD0L3QutGC0LDQvCDQvNC10L3RjlxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHQkKCduYXYgdWwgbGkgYScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHRcdGVsZW1lbnRDbGljayA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG5cdFx0ZGVzdGluYXRpb24gPSAkKGVsZW1lbnRDbGljaykub2Zmc2V0KCkudG9wO1xyXG5cdFx0JCgnYm9keSwgaHRtbCcpLmFuaW1hdGUoe3Njcm9sbFRvcDogZGVzdGluYXRpb24gfSwgODAwKTtcclxuXHR9KTtcclxufSk7XHJcblxyXG4vL9GB0LrRgNC+0LvQuyDQvdCwINC90LDRh9Cw0LvQviDRgdGC0YDQsNC90LjRhtGLLCDQv9C+INGB0YLRgNC10LvQutC1INGB0L3QuNC30YNcclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHQkKGZ1bmN0aW9uICgpe1xyXG5cdFx0JChcIiNzY3JvbGx1cFwiKS5oaWRlKCk7XHJcblxyXG5cdCQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IDApe1xyXG5cdFx0XHRcdCQoJyNzY3JvbGx1cCcpLmZhZGVJbigpO1xyXG5cdFx0XHR9IGVsc2V7XHJcblx0XHRcdFx0JCgnI3Njcm9sbHVwJykuZmFkZU91dCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdCQoJyNzY3JvbGx1cCcpLmNsaWNrKGZ1bmN0aW9uICgpe1xyXG5cdFx0XHQkKCdib2R5LCBodG1sJykuYW5pbWF0ZSh7XHJcblx0XHRcdFx0c2Nyb2xsVG9wOiAwXHJcblx0XHRcdH0sIDgwMCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbi8vINC/0L7Rj9C70LXQvdC40LUg0LzQtdC90Y5cclxuXHJcbmpRdWVyeS5mbi5jbGlja1RvZ2dsZSA9IGZ1bmN0aW9uKGEsYikge1xyXG4gIFx0dmFyIGFiID0gW2IsYV07XHJcbiAgXHRyZXR1cm4gdGhpcy5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7IGFiW3RoaXMuX3RvZ149MV0uY2FsbCh0aGlzKTsgfSk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgJCgnLm1lbnUgYScpLmVhY2goZnVuY3Rpb24gKCkgeyAgICAgICAgICAgIFxyXG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5ocmVmO1xyXG4gICAgICAgIGlmKGxvY2F0aW9uID09IGxpbmspIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnbWVudV9faXRlbS0tb24tcGFnZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgIFx0XHRyZXR1cm4gZmFsc2VcclxuICAgIH1cclxufSk7XHJcbn0pO1xyXG5cclxuJCgnLmhhbWJ1cmdlcicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0JCh0aGlzKS50b2dnbGVDbGFzcygnaGFtYnVyZ2VyLS1jcm9zcycpLmZpbmQoJy5oYW1idXJnZXJfX2l0ZW0nKS50b2dnbGVDbGFzcygnaGFtYnVyZ2VyX19pdGVtLS1jcm9zcycpO1xyXG59KS5jbGlja1RvZ2dsZShmdW5jdGlvbigpIHtcclxuXHQkKCcubWVudS13cmFwcGVyJykuYW5pbWF0ZSh7XHJcblx0XHRyaWdodDogJzAnfSwgMTAwMClcclxufSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgJCgnLm1lbnUtd3JhcHBlcicpLmFuaW1hdGUoe1xyXG5cdFx0cmlnaHQ6ICctMTgwcHgnfSwgMTAwMClcclxufSk7XHJcblxyXG5cclxuLy/Qv9C+0Y/QstC70LXQvdC40LUg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcclxuXHJcbiQoJy5lbWFpbF9pbnB1dCcpLnN1Ym1pdChmdW5jdGlvbihlKXtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0dmFyIGVtYWlsID0gJCgnLmVtYWlsJykudmFsKCk7XHJcblx0dmFyIHVybCA9ICQodGhpcykuYXR0cignYWN0aW9uJyk7XHJcblx0JC5wb3N0KHVybCwge2VtYWlsOiBlbWFpbH0pLmRvbmUoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHQkKCcub3ZlcmxheScpLmZhZGVJbig0MDAsIFxyXG5cdFx0IFx0ZnVuY3Rpb24oKXsgXHJcblx0XHRcdFx0JCgnLm1vZGFsX2Zvcm0nKSBcclxuXHRcdFx0XHRcdC5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKVxyXG5cdFx0XHRcdFx0LmFwcGVuZCgnPGg0PkhlbGxvLCAnK2RhdGEuZW1haWwrJzwvaDQ+JylcclxuXHRcdFx0XHRcdC5hbmltYXRlKHtvcGFjaXR5OiAxLCB0b3A6ICc1MCUnfSwgMjAwKTsgXHJcblx0XHRcdFx0XHRcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cdFxyXG5cdCQoJy5zZW5kX2J0biwgLm92ZXJsYXknKS5jbGljayggZnVuY3Rpb24oKXsgXHJcblx0XHQkKCcubW9kYWxfZm9ybScpXHJcblx0XHRcdC5hbmltYXRlKHtvcGFjaXR5OiAwLCB0b3A6ICc0NSUnfSwgMjAwLCAgXHJcblx0XHRcdFx0ZnVuY3Rpb24oKXsgXHJcblx0XHRcdFx0XHQkKHRoaXMpLmNzcygnZGlzcGxheScsICdub25lJykgXHJcblx0XHRcdFx0XHQkKCcub3ZlcmxheScpLmZhZGVPdXQoNDAwKSBcclxuXHRcdFx0XHRcdCQoJy5tb2RhbF9mb3JtJykuZW1wdHkoKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuJCgnLmVtYWlsX2lucHV0JykudHJpZ2dlcigncmVzZXQnKTtcclxuXHR9KTtcclxufSlcclxuXHJcbi8v0LrQsNGA0YPRgdC10LvRjFxyXG5cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgXCIuY2Fyb3VzZWwtYnV0dG9uLXJpZ2h0XCIsZnVuY3Rpb24oKXsgXHJcblx0dmFyIGNhcnVzZWwgPSAkKHRoaXMpLnBhcmVudHMoJy5jYXJvdXNlbCcpO1xyXG5cdHJpZ2h0X2NhcnVzZWwoY2FydXNlbCk7XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59KTtcclxuLy/QntCx0YDQsNCx0L7RgtC60LAg0LrQu9C40LrQsCDQvdCwINGB0YLRgNC10LvQutGDINCy0LvQtdCy0L5cclxuJChkb2N1bWVudCkub24oJ2NsaWNrJyxcIi5jYXJvdXNlbC1idXR0b24tbGVmdFwiLGZ1bmN0aW9uKCl7IFxyXG5cdHZhciBjYXJ1c2VsID0gJCh0aGlzKS5wYXJlbnRzKCcuY2Fyb3VzZWwnKTtcclxuXHRsZWZ0X2NhcnVzZWwoY2FydXNlbCk7XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59KTtcclxuZnVuY3Rpb24gbGVmdF9jYXJ1c2VsKGNhcnVzZWwpe1xyXG4gICB2YXIgYmxvY2tfd2lkdGggPSAkKGNhcnVzZWwpLmZpbmQoJy5jYXJvdXNlbC1ibG9jaycpLm91dGVyV2lkdGgoKTtcclxuICAgJChjYXJ1c2VsKS5maW5kKFwiLmNhcm91c2VsLWl0ZW1zIC5jYXJvdXNlbC1ibG9ja1wiKS5lcSgtMSkuY2xvbmUoKS5wcmVwZW5kVG8oJChjYXJ1c2VsKS5maW5kKFwiLmNhcm91c2VsLWl0ZW1zXCIpKTsgXHJcbiAgICQoY2FydXNlbCkuZmluZChcIi5jYXJvdXNlbC1pdGVtc1wiKS5jc3Moe1wibGVmdFwiOlwiLVwiK2Jsb2NrX3dpZHRoK1wicHhcIn0pO1xyXG4gICAkKGNhcnVzZWwpLmZpbmQoXCIuY2Fyb3VzZWwtaXRlbXMgLmNhcm91c2VsLWJsb2NrXCIpLmVxKC0xKS5yZW1vdmUoKTsgICAgXHJcbiAgICQoY2FydXNlbCkuZmluZChcIi5jYXJvdXNlbC1pdGVtc1wiKS5hbmltYXRlKHtsZWZ0OiBcIjBweFwifSwgMjAwKTsgXHJcbiAgIFxyXG59XHJcbmZ1bmN0aW9uIHJpZ2h0X2NhcnVzZWwoY2FydXNlbCl7XHJcbiAgIHZhciBibG9ja193aWR0aCA9ICQoY2FydXNlbCkuZmluZCgnLmNhcm91c2VsLWJsb2NrJykub3V0ZXJXaWR0aCgpO1xyXG4gICAkKGNhcnVzZWwpLmZpbmQoXCIuY2Fyb3VzZWwtaXRlbXNcIikuYW5pbWF0ZSh7bGVmdDogXCItXCIrIGJsb2NrX3dpZHRoICtcInB4XCJ9LCAyMDAsIGZ1bmN0aW9uKCl7XHJcblx0ICAkKGNhcnVzZWwpLmZpbmQoXCIuY2Fyb3VzZWwtaXRlbXMgLmNhcm91c2VsLWJsb2NrXCIpLmVxKDApLmNsb25lKCkuYXBwZW5kVG8oJChjYXJ1c2VsKS5maW5kKFwiLmNhcm91c2VsLWl0ZW1zXCIpKTsgXHJcbiAgICAgICQoY2FydXNlbCkuZmluZChcIi5jYXJvdXNlbC1pdGVtcyAuY2Fyb3VzZWwtYmxvY2tcIikuZXEoMCkucmVtb3ZlKCk7IFxyXG4gICAgICAkKGNhcnVzZWwpLmZpbmQoXCIuY2Fyb3VzZWwtaXRlbXNcIikuY3NzKHtcImxlZnRcIjpcIjBweFwifSk7IFxyXG4gICB9KTsgXHJcbn1cclxuXHJcbi8v0LrRgNGD0LPQu9GL0LUg0L/RgNC+0LPRgNC10YHRgdCx0LDRgNGLXHJcblxyXG4kLmNpcmNsZVByb2dyZXNzID0ge1xyXG5cclxuICAgIGRlZmF1bHRzOiB7XHJcblxyXG4gICAgICAgIHZhbHVlOiAwLFxyXG5cclxuICAgICAgICBzaXplOiAxNTAsXHJcblxyXG4gICAgICAgIHN0YXJ0QW5nbGU6IC1NYXRoLlBJLFxyXG5cclxuICAgICAgICB0aGlja25lc3M6ICdhdXRvJyxcclxuXHJcbiAgICAgICAgZmlsbDoge1xyXG4gICAgICAgICAgICBncmFkaWVudDogWycjM2FlYWJiJywgJyNmZGQyNTAnXVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVtcHR5RmlsbDogJ3JnYmEoMCwgMCwgMCwgLjEpJyxcclxuXHJcbiAgICAgICAgYW5pbWF0aW9uOiB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMjAwLFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdjaXJjbGVQcm9ncmVzc0Vhc2luZydcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBSZW5hbWVkIGVhc2UtaW4tb3V0LWN1YmljXHJcbiQuZWFzaW5nLmNpcmNsZVByb2dyZXNzRWFzaW5nID0gZnVuY3Rpb24oeCwgdCwgYiwgYywgZCkge1xyXG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpXHJcbiAgICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcclxuICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xyXG59O1xyXG5cclxuJC5mbi5jaXJjbGVQcm9ncmVzcyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zID09ICd3aWRnZXQnKVxyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEoJ2NpcmNsZS1wcm9ncmVzcycpO1xyXG5cclxuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5jaXJjbGVQcm9ncmVzcy5kZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZWwgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICBzaXplID0gb3B0aW9ucy5zaXplLFxyXG4gICAgICAgICAgICByYWRpdXMgPSBzaXplIC8gMixcclxuICAgICAgICAgICAgdGhpY2tuZXNzID0gc2l6ZSAvIDE0LFxyXG4gICAgICAgICAgICB2YWx1ZSA9IG9wdGlvbnMudmFsdWUsXHJcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgPSBvcHRpb25zLnN0YXJ0QW5nbGUsXHJcbiAgICAgICAgICAgIGVtcHR5QXJjRmlsbCA9IG9wdGlvbnMuZW1wdHlGaWxsLFxyXG4gICAgICAgICAgICBhcmNGaWxsO1xyXG5cclxuICAgICAgICBpZiAoJC5pc051bWVyaWMob3B0aW9ucy50aGlja25lc3MpKVxyXG4gICAgICAgICAgICB0aGlja25lc3MgPSBvcHRpb25zLnRoaWNrbmVzcztcclxuXHJcbiAgICAgICAgLy8gUHJlcGFyZSBjYW52YXNcclxuICAgICAgICB2YXIgY2FudmFzID0gZWwuZGF0YSgnY2lyY2xlLXByb2dyZXNzJyk7XHJcblxyXG4gICAgICAgIGlmICghY2FudmFzKSB7XHJcbiAgICAgICAgICAgIGNhbnZhcyA9ICQoJzxjYW52YXM+JykucHJlcGVuZFRvKGVsKVswXTtcclxuICAgICAgICAgICAgZWwuZGF0YSgnY2lyY2xlLXByb2dyZXNzJywgY2FudmFzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHNpemU7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHNpemU7XHJcblxyXG4gICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgaWYgKCFvcHRpb25zLmZpbGwpXHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVGhlIGZpbGwgaXMgbm90IHNwZWNpZmllZCFcIik7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmZpbGwuY29sb3IpXHJcbiAgICAgICAgICAgIGFyY0ZpbGwgPSBvcHRpb25zLmZpbGwuY29sb3I7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmZpbGwuZ3JhZGllbnQpIHtcclxuICAgICAgICAgICAgdmFyIGdyID0gb3B0aW9ucy5maWxsLmdyYWRpZW50O1xyXG4gICAgICAgICAgICBpZiAoZ3IubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGFyY0ZpbGwgPSBnclswXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChnci5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGcgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgc2l6ZSwgMCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgIGxnLmFkZENvbG9yU3RvcChpIC8gKGdyLmxlbmd0aCAtIDEpLCBncltpXSk7XHJcbiAgICAgICAgICAgICAgICBhcmNGaWxsID0gbGc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmZpbGwuaW1hZ2UpIHtcclxuICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gb3B0aW9ucy5maWxsLmltYWdlO1xyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmcgPSAkKCc8Y2FudmFzPicpWzBdO1xyXG4gICAgICAgICAgICAgICAgYmcud2lkdGggPSBzaXplO1xyXG4gICAgICAgICAgICAgICAgYmcuaGVpZ2h0ID0gc2l6ZTtcclxuICAgICAgICAgICAgICAgIGJnLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKGltZywgMCwgMCwgc2l6ZSwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBhcmNGaWxsID0gY3R4LmNyZWF0ZVBhdHRlcm4oYmcsICduby1yZXBlYXQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlZHJhdyBzdGF0aWMgdmFsdWVcclxuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbmltYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgZHJhdyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbilcclxuICAgICAgICAgICAgZHJhd0FuaW1hdGVkKHZhbHVlKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGRyYXcodmFsdWUpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBkcmF3KHYpIHtcclxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBzaXplLCBzaXplKTtcclxuICAgICAgICAgICAgZHJhd0FyYyh2KTtcclxuICAgICAgICAgICAgZHJhd0VtcHR5QXJjKHYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZHJhd0FyYyh2KSB7XHJcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY3R4LmFyYyhyYWRpdXMsIHJhZGl1cywgcmFkaXVzIC0gdGhpY2tuZXNzIC8gMiwgc3RhcnRBbmdsZSwgc3RhcnRBbmdsZSArIE1hdGguUEkgKiAyICogdik7XHJcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlja25lc3M7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGFyY0ZpbGw7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRyYXdFbXB0eUFyYyh2KSB7XHJcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGlmICh2IDwgMSkge1xyXG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHYgPD0gMClcclxuICAgICAgICAgICAgICAgICAgICBjdHguYXJjKHJhZGl1cywgcmFkaXVzLCByYWRpdXMgLSB0aGlja25lc3MgLyAyLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmFyYyhyYWRpdXMsIHJhZGl1cywgcmFkaXVzIC0gdGhpY2tuZXNzIC8gMiwgc3RhcnRBbmdsZSArIE1hdGguUEkgKiAyICogdiwgc3RhcnRBbmdsZSk7XHJcbiAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpY2tuZXNzO1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZW1wdHlBcmNGaWxsO1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkcmF3QW5pbWF0ZWQodikge1xyXG4gICAgICAgICAgICBlbC50cmlnZ2VyKCdjaXJjbGUtYW5pbWF0aW9uLXN0YXJ0Jyk7XHJcblxyXG4gICAgICAgICAgICAkKGNhbnZhcykuY3NzKHsgcHJvZ3Jlc3M6IDAgfSkuYW5pbWF0ZSh7IHByb2dyZXNzOiB2IH0sXHJcbiAgICAgICAgICAgICAgICAkLmV4dGVuZCh7fSwgb3B0aW9ucy5hbmltYXRpb24sIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGVwOiBmdW5jdGlvbihwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXcocCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnRyaWdnZXIoJ2NpcmNsZS1hbmltYXRpb24tcHJvZ3Jlc3MnLCBbcCAvIHYsIHBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnRyaWdnZXIoJ2NpcmNsZS1hbmltYXRpb24tZW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgkKSB7XHJcbiAgICBmdW5jdGlvbiBhbmltYXRlRWxlbWVudHMoKSB7XHJcbiAgICAgICAgJCgnLnByb2dyZXNzYmFyJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50UG9zID0gJCh0aGlzKS5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgICAgIHZhciB0b3BPZldpbmRvdyA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgdmFyIHBlcmNlbnQgPSAkKHRoaXMpLmZpbmQoJy5jaXJjbGUnKS5hdHRyKCdkYXRhLXBlcmNlbnQnKTtcclxuICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSBwYXJzZUludChwZXJjZW50LCAxMCkgLyBwYXJzZUludCgxMDAsIDEwKTtcclxuICAgICAgICAgICAgdmFyIGFuaW1hdGUgPSAkKHRoaXMpLmRhdGEoJ2FuaW1hdGUnKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRQb3MgPCB0b3BPZldpbmRvdyArICQod2luZG93KS5oZWlnaHQoKSAtIDEwICYmICFhbmltYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ2FuaW1hdGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmNpcmNsZScpLmNpcmNsZVByb2dyZXNzKHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiAtTWF0aC5QSSAvIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBlcmNlbnQgLyAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpY2tuZXNzOiAxMixcclxuICAgICAgICAgICAgICAgICAgICBmaWxsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwZmZkZSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS5vbignY2lyY2xlLWFuaW1hdGlvbi1wcm9ncmVzcycsIGZ1bmN0aW9uIChldmVudCwgcHJvZ3Jlc3MsIHN0ZXBWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnZGl2JykudGV4dCgoc3RlcFZhbHVlKjEwMCkudG9GaXhlZCgxKSArIFwiJVwiKTtcclxuICAgICAgICAgICAgICAgIH0pLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgICAgIC8vIFNob3cgYW5pbWF0ZWQgZWxlbWVudHNcclxuICAgIGFuaW1hdGVFbGVtZW50cygpO1xyXG4gICAgJCh3aW5kb3cpLnNjcm9sbChhbmltYXRlRWxlbWVudHMpO1xyXG59KTtcclxuXHJcbi8vINGB0YfQtdGC0YfQuNC60LhcclxuXHJcbnZhciBzdG9wID0gJChcIi5mYWN0c1wiKS5vZmZzZXQoKS50b3A7XHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiBzdG9wICkge1xyXG4gICAgICAgICAgICAkKHdpbmRvdykub2ZmKFwic2Nyb2xsXCIpO1xyXG4gICAgICAgICAgICAkKCcuY291bnQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoeyBDb3VudGVyOiAwIH0pLmFuaW1hdGUoeyBDb3VudGVyOiAkdGhpcy5hdHRyKCdkYXRhLXdlaWdodCcpIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNDAwMCxcclxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdzd2luZycsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy50ZXh0KE1hdGguY2VpbCh0aGlzLkNvdW50ZXIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4vL9GE0LjQu9GM0YLRgCDQv9C+INC60LDRgNGC0LjQvdC60LDQvFxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCQpIHtcclxudmFyIGZBY3RpdmUgPSAnJztcclxuIFxyXG5mdW5jdGlvbiBmaWx0ZXJOYW1lKG5hbWUpe1xyXG4gaWYoZkFjdGl2ZSAhPSBuYW1lKXtcclxuIFx0JCgnW3RpdGxlID0gcG9ydGZvbGlvX3BpY10nKS5maWx0ZXIoJy4nK25hbWUpLmZhZGVJbignc2xvdycpO1xyXG4gXHQkKCdbdGl0bGUgPSBwb3J0Zm9saW9fcGljXScpLmZpbHRlcignOm5vdCguJytuYW1lKycpJykuZmFkZU91dCgnc2xvdycpO1xyXG4gZkFjdGl2ZSA9IG5hbWU7XHJcbiB9XHJcbn1cclxuIFxyXG4kKCcuYnRuX2xpb24nKS5jbGljayhmdW5jdGlvbigpeyBmaWx0ZXJOYW1lKCdsaW9uJyk7IH0pO1xyXG4kKCcuYnRuX2JlYXV0eScpLmNsaWNrKGZ1bmN0aW9uKCl7IGZpbHRlck5hbWUoJ2JlYXV0eScpOyB9KTtcclxuJCgnLmJ0bl9taWNrZXknKS5jbGljayhmdW5jdGlvbigpeyBmaWx0ZXJOYW1lKCdtaWNrZXknKTsgfSk7XHJcbiQoJy5idG5fcmFwdW56ZWwnKS5jbGljayhmdW5jdGlvbigpeyBmaWx0ZXJOYW1lKCdyYXB1bnplbCcpOyB9KTtcclxuJCgnLmJ0bl9wZXRlcicpLmNsaWNrKGZ1bmN0aW9uKCl7IGZpbHRlck5hbWUoJ3BldGVyJyk7IH0pO1xyXG4gXHJcbiQoJy5idG5fYWxsJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICQoJ1t0aXRsZSA9IHBvcnRmb2xpb19waWNdJykuZmFkZUluKCdzbG93Jyk7XHJcbiBmQWN0aXZlID0gJ2FsbCc7XHJcbn0pO1xyXG59KTtcclxuXHJcbi8v0YLQsNCx0YsgKNCw0LrQutC+0YDQtNC10L7QvSlcclxuXHJcbiQoJy50b2dnbGUsIC50b2dnbGVfaW4nKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgXHJcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gIFxyXG4gICAgaWYgKCR0aGlzLm5leHQoKS5oYXNDbGFzcygnc2hvdycpKSB7XHJcbiAgICAgICAgJHRoaXMubmV4dCgpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XHJcbiAgICAgICAgJHRoaXMubmV4dCgpLnNsaWRlVXAoMzUwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHRoaXMucGFyZW50KCkucGFyZW50KCkuZmluZCgnbGkgLmlubmVyJykucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICAkdGhpcy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCdsaSAuaW5uZXInKS5zbGlkZVVwKDM1MCk7XHJcbiAgICAgICAgJHRoaXMubmV4dCgpLnRvZ2dsZUNsYXNzKCdzaG93Jyk7XHJcbiAgICAgICAgJHRoaXMubmV4dCgpLnNsaWRlVG9nZ2xlKDM1MCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy/QvtGC0L/RgNCw0LLQutCwINC00LDQvdC90YvRhSAo0LLRi9Cy0L7QtCDQsiDQutC+0L3RgdC+0LvRjClcclxuXHJcbiQoJy5mb3JtX2lucHV0Jykuc3VibWl0KGZ1bmN0aW9uKGUpe1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0dmFyIG5hbWUgPSAkKCcubmFtZV9pbmZvJykudmFsKCk7XHJcblx0dmFyIGVtYWlsID0gJCgnLmVtYWlsX2luZm8nKS52YWwoKTtcclxuXHR2YXIgdXJsID0gJCh0aGlzKS5hdHRyKCdhY3Rpb24nKTtcclxuXHJcblxyXG5cdCQucG9zdCh1cmwsIHtuYW1lOiBuYW1lLCBlbWFpbDogZW1haWx9KS5kb25lKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHJcblx0XHRcdGNvbnNvbGUubG9nKGRhdGEpXHJcblx0XHRcdCQoJy5mb3JtX2lucHV0JykudHJpZ2dlcigncmVzZXQnKTtcclxuXHRcdH0pO1xyXG5cdH0pOyJdfQ==
